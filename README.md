# frontend-gulp

Это проект для автоматизации сборки с использованием **Gulp**. Цель проекта — упростить процесс разработки, автоматизируя такие задачи, как компиляция Sass файлов, минимизация CSS, оптимизация изображений, объединение JavaScript, создание SVG-спрайтов и другие.

## Зависимости

### Установленные зависимости
- **@fancyapps/ui**: Легкий и современный плагин для отображения модальных окон и лайтбоксов.
- **del**: Утилита для удаления файлов и директорий.
- **esbuild**: Быстрый сборщик и минификатор JavaScript.
- **globby**: Библиотека для работы с файловыми путями и шаблонами.
- **gulp-esbuild**: Плагин Gulp для использования esbuild для сборки и минификации JavaScript.
- **imagemin**: Плагин для оптимизации изображений.
- **imagemin-webp**: Плагин для поддержки формата WebP в Imagemin.
- **notyf**: Минималистичный и настраиваемый плагин уведомлений.
- **swiper**: Современный и гибкий слайдер для веба.
- **tippy.js**: Легковесный и настраиваемый плагин для подсказок (tooltips).

### Зависимости для разработки
- **@types/cheerio**: Типы для TypeScript для библиотеки Cheerio.
- **@types/through2**: Типы для TypeScript для библиотеки through2.
- **browser-sync**: Инструмент для автоматического обновления страницы в браузере во время разработки.
- **cheerio**: Быстрая и гибкая реализация jQuery для работы с HTML.
- **cross-env**: Утилита для задания переменных окружения с учетом кросс-платформенности.
- **gulp**: Инструмент для автоматизации задач в проекте.
- **gulp-cheerio**: Плагин Gulp для манипуляций с HTML с помощью Cheerio.
- **gulp-clean-css**: Плагин для Gulp для минификации CSS.
- **gulp-file-include**: Плагин Gulp для подключения частичных HTML файлов.
- **gulp-if**: Плагин Gulp для условной обработки потоков.
- **gulp-plumber**: Плагин Gulp для предотвращения разрыва потока при возникновении ошибок.
- **gulp-rename**: Плагин Gulp для переименования файлов.
- **gulp-sass**: Плагин Gulp для компиляции Sass в CSS.
- **gulp-sourcemaps**: Плагин Gulp для генерации исходных карт.
- **gulp-svg-sprite**: Плагин Gulp для создания SVG спрайтов.
- **gulp-svgmin**: Плагин Gulp для оптимизации SVG файлов.
- **imagemin-mozjpeg**: Плагин для оптимизации изображений в формате MozJPEG.
- **imagemin-pngquant**: Плагин для оптимизации изображений в формате PNG.
- **imagemin-svgo**: Плагин для оптимизации SVG изображений.
- **sass**: Препроцессор для CSS, который расширяет функционал стандартного CSS.
- **through2**: Обертка для работы с потоками в Node.js.
- **depcheck**: Инструмент для нахождения неиспользуемых зависимостей в проекте.

## Задачи Gulp

### `cleanTask`
Эта задача очищает директории вывода (например, `dist/`) перед каждой сборкой. Она удаляет старые и ненужные файлы.

### `fontsTask`
Задача, которая копирует файлы шрифтов из директории `src/fonts/` в соответствующую директорию вывода (`dist/fonts/`).

### `sassTask`
Компилирует Sass файлы в CSS, минимизирует их и генерирует исходные карты для удобства отладки.

### `copyHtml`
Копирует HTML файлы из папки `src/html/` в директорию вывода (`dist/`).

### `htmlWebpReplaceTask`
Заменяет все изображения в HTML на элементы `<picture>`, добавляя изображения в формате WebP для современных браузеров.

### `addPreloadToLCP`
Добавляет теги `<link rel="preload">` в HTML для критичных ресурсов (таких как изображения и шрифты), улучшая метрику Largest Contentful Paint (LCP).

### `optimizeImages`
Оптимизирует изображения (JPG, PNG, GIF, SVG) с помощью таких инструментов, как `imagemin`.

### `convertToWebp`
Конвертирует поддерживаемые форматы изображений в формат WebP для улучшенной сжимаемости.

### `svgSpriteTask`
Генерирует SVG спрайт из всех SVG файлов в директории `src/images/icon/`.

### `jsTask`
Объединяет и минифицирует JavaScript файлы с использованием esbuild. Эта задача также генерирует исходные карты для отладки.

### `serveTask`
Запускает локальный сервер для разработки и обслуживает файлы из директории `dist/`. Включает живое обновление с использованием BrowserSync.

### `reloadBrowser`
Перезагружает браузер при изменении файлов во время разработки.

## Использование

1. Установите зависимости:

```bash
npm install
```

2. Для запуска задачи разработки и старта сервера:

```bash
npm run dev
```
3. Для сборки в продакшн:
```bash
npm run build
```

4. Для проверки gulp-задачи
```bash
npm run test 
```

5. Для удаления неиспользуемых зависмостей
```bash
npm run clean:deps 
```

# Используемые версии

Node.js: v22.14.0
npm: 11.3.0